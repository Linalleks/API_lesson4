
# Космический Телеграм

Набор приложений для публикации Ботом изображений с ПК в Telegram-канал и для скачивания космических изображений SpaceX и NASA в папку "images".

## Общие требования

1. Python3.8.9 должен быть уже установлен.
2. Затем используйте `pip` (или `pip3`, есть конфликт с Python2) для установки зависимостей:  
    ```  
    pip install -r requirements.txt  
    ```  
3. *Рекомендуется использовать [virtualenv/venv](https://docs.python.org/3/library/venv.html) для изоляции проекта. 
4. Дополнительные требования описаны подробнее в разделах описания приложений.
5. Для указания доп.данных создайте файл ".env" в папке с текущими приложениями.  

## Запуск приложений

Когда все необходимые требования для работы выполнены, через командную строку можно запускать приложение.  
Для этого потребуется команда:
```
python [относит_путь_до_файла_приложения] [входные аргументы, если предусмотрено для приложения]
```
Для лучшего понимания ознакомьтесь с примерами запуска в разделах описания приложений.

## Приложения для публикации Ботом изображений с ПК в Telegram-канал

1. post_image_Bot2TG.py  
    Публикует указанную фотографию в канал. Если фотография не указана, публикует случайную фотографию из папки "images".  
    Для публикации конкретной фотографии нужно при запуске приложения указать относительный путь до фото как входной аргумент.

3. autoposting_all_images_Bot2TG.py  
    Бесконечно публикует поочереди все фотографии из директории "images" с заданной задержкой (по умолчанию - раз в 4 часа).  
    Когда все фото из директории опубликованы – начинает публиковать их заново, перемешав фото в случайном порядке.

### Дополнительные требования:
1. Telegram-бот и его API-токен. 
    Полезные ссылки и информация:
    - [Как регистрировать бота](https://way23.ru/регистрация-бота-в-telegram.html)
    - [Отец ботов](https://telegram.me/BotFather)
    - Токен выглядит примерно так: `958423683:AAEAtJ5Lde5YYfkjergber`.
2. Telegram-канал и ссылка на него в виде: `@example_channel`.
3. Наличие изображений для публикации в папке "images", которая должна быть в одной папке с текущим приложением.
4. В файле ".env" (пт.5 из общих требований) укажите:
    - API-токен от бота в переменной `TG_BOT_TOKEN`,
    - ссылку на канал в переменной `TG_CHANNEL_ID`,
    - время задержки следующей публикации для автопостинга в переменной `SET_DELAY` (указывать необязательно, т.к. без переменной = 4 часа).  
      Единицы измерения времени нужно указывать на английском (например, часы - h/hour/hours, минуты - m/min/minutes, секунды - s/sec/seconds)
    - Каждую переменную указывайте на отдельной строке.  
Пример заполнения файла:
    ```
    TG_BOT_TOKEN=958423683:AAEAtJ5Lde5YYfkjergber
    TG_CHANNEL_ID=@example_channel
    SET_DELAY=4h
    ```
### Примеры запуска приложений 

В примерах показана команда, введенная в командную строку. Для запуска приложения нужно нажать Enter.

1. Запуск post_image_Bot2TG.py для публикации конкретного фото (в данном случае, "images/spacex_1.jpg")
    ```
    python .\post_image_Bot2TG.py images/spacex_1.jpg
    ```
2. Запуск post_image_Bot2TG.py для публикации любого фото из папки "images"

    ```
    python .\post_image_Bot2TG.py
    ```
3. Запуск autoposting_all_images_Bot2TG.py для бесконечной публикации фото из папки "images" с заданной задержкой или по умолчанию
    ```
    python .\autoposting_all_images_Bot2TG.py
    ```

## Приложения для скачивания космических изображений в папку "images"

1. download_SpaceX_images.py  
   Скачивает фото от SpaceX по указанному ID запуска. Если ID запуска не указан, скачивает фото с последнего запуска с имеющимися фото.  
   Для скачивания фотографий с конкретного запуска SpaceX нужно при запуске приложения указать ID запуска как входной аргумент.
3. download_NASA_APOD_images.py  
   Скачивает 30 APOD-фото от NASA.  
   APOD: Astronomy Picture of the Day - астрономическая картинка дня (каждый день NASA выбирают лучшее фото и публиуют его как APOD).
4. download_NASA_EPIC_images.py  
   Скачивает 10 EPIC-фото от NASA.
   EPIC: Earth Polychromatic Imaging Camera - фото с камеры для получения полихромных изображений Земли.
   
### Дополнительные требования для приложений скачивания фото от NASA
1. API-токен NASA.  
    Полезные ссылки и информация:
    - [Сайт NASA](https://api.nasa.gov/)
    - Токен выглядит примерно так: `0EET12NkwdMijKvSJH8hUhwkuTqc0Ras30dGBd2R`.
2. В файле ".env" (пт.5 из общих требований) укажите:
    - API-токен NASA в переменной `NASA_API_KEY`  
   Пример заполнения файла:
    ```
    NASA_API_KEY=0EET12NkwdMijKvSJH8hUhwkuTqc0Ras30dGBd2R
    ```
### Примеры запуска приложений 

В примерах показана команда, введенная в командную строку. Для запуска приложения нужно нажать Enter.

1. Запуск download_SpaceX_images.py для скачивания фото с конкретного запуска SpaceX (в данном случае, 5eb87d47ffd86e000604b38a)
    ```
    python .\download_SpaceX_images.py 5eb87d47ffd86e000604b38a
    ```
2. Запуск download_SpaceX_images.py для скачивания фото с последнего запуска SpaceX с имеющимися фото
    ```
    python .\download_SpaceX_images.py
    ```
3. Запуск download_NASA_APOD_images.py для скачивания 30 APOD-фото от NASA
    ```
    python .\download_NASA_APOD_images.py
    ```
4. Запуск download_NASA_EPIC_images.py для скачивания 10 EPIC-фото от NASA
    ```
    python .\download_NASA_EPIC_images.py
    ```

## Цель проекта
Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).
